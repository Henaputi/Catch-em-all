<ion-header>
    <ion-navbar>
        <ion-title>Search</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>

    <ion-searchbar
            [(ngModel)]="search"
            (ionInput)="onInput($event)"
            (ionCancel)="onCancel($event)"
            showCancelButton="true"
            autocomplete="on"
            placeholder="Search for Pokemon or location">
    </ion-searchbar>

    <ion-list>
        <ion-list-header *ngIf="pokemonCount | async">
            Pokemon ({{ pokemonCount | async }})
        </ion-list-header>
        <button ion-item
                *ngFor="let pokemon of pokemonResults | async"
                (click)="selectPokemon(pokemon)">

            <ion-row>
                <ion-col style="display: flex; align-items: center; flex-basis: 40px;
                    flex-grow: 0; flex-direction: column;">
                    <img [src]="pokemon.icon">
                </ion-col>

                <ion-col style="display: flex; align-items: center; ">
                    {{ pokemon.name }}
                </ion-col>
            </ion-row>

        </button>

        <ion-list-header *ngIf="locationCount | async">
            Locations ({{ locationCount | async }})
        </ion-list-header>

        <button ion-item
                *ngFor="let location of locationResults | async"
                (click)="selectLocation(location)">

            <ion-row>
                <ion-col style="display: flex; align-items: center; flex-basis: 40px;
                    flex-grow: 0; flex-direction: column;">
                    <ion-icon name="pin"></ion-icon>
                </ion-col>

                <ion-col style="display: flex; align-items: center; ">
                    {{ location.address }}
                </ion-col>
            </ion-row>

        </button>
    </ion-list>

</ion-content>
